k8s {
   namespace = 'svaton-ns'
   runAsUser = 1000
   storageClaimName = 'pvc-janek-storage-elixir1-cerit-sc-cz'
   launchDir = '/mnt/shared/medgen/nanobreak/src/nextflow_pipeline/launch'
   projectDir = '/mnt/shared/medgen/nanobreak/src/nextflow_pipeline/project'
   workDir = '/mnt/shared/medgen/nanobreak/src/nextflow_pipeline/temp'
   outDir = '/storage/share/110000-MED/999999-gic/01.NanoBreak/data/samples'
//useJobs=true
   pullPolicy = 'Always'
   storageMountPath = '/mnt'
   computeResourceType = 'Job'
}

params {
   outdir =
   data = '/mnt/shared/MedGen/ONTdata/Sabina_HMW/0627_lig_flg/20220614_1150_MN16014_ais387_bfa74e7a'
   calcdist =  "${k8s.projectDir}/xsvato01/nanopore_k8s/ComputeDistance.py"
   ref37 = '/mnt/shared/999993-Bioda/data/ssd_3/references/homsap/GRCh37-p13/seq/GRCh37-p13.fa'
}


executor {
   queueSize = 15
}

process {
 withName: 'GUPPY_.*' {
  accelerator = 1
   }
 
   container = 'registry.gitlab.ics.muni.cz:443/450402/nanopore_k8s:latest'
   scratch = true
   executor = 'k8s'
   cpus = 8
   memory = '16GB'
   pod = [[securityContext:[fsGroupChangePolicy:'OnRootMismatch', runAsUser:1000, runAsGroup:1, fsGroup:1]], [nodeSelector:'storage=local-ssd']]
}

manifest {
  defaultBranch = 'main'
}
